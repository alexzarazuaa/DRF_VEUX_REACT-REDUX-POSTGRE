{"remainingRequest":"/home/usuario/Documentos/2nDaw/Servidor/DJANGO_REST__VUEx_REACT-REDUX/frontend/vue_app/node_modules/babel-loader/lib/index.js!/home/usuario/Documentos/2nDaw/Servidor/DJANGO_REST__VUEx_REACT-REDUX/frontend/vue_app/node_modules/ts-loader/index.js??ref--14-2!/home/usuario/Documentos/2nDaw/Servidor/DJANGO_REST__VUEx_REACT-REDUX/frontend/vue_app/node_modules/eslint-loader/index.js??ref--13-0!/home/usuario/Documentos/2nDaw/Servidor/DJANGO_REST__VUEx_REACT-REDUX/frontend/vue_app/src/store/auth.module.ts","dependencies":[{"path":"/home/usuario/Documentos/2nDaw/Servidor/DJANGO_REST__VUEx_REACT-REDUX/frontend/vue_app/src/store/auth.module.ts","mtime":1612463704398},{"path":"/home/usuario/Documentos/2nDaw/Servidor/DJANGO_REST__VUEx_REACT-REDUX/frontend/vue_app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/usuario/Documentos/2nDaw/Servidor/DJANGO_REST__VUEx_REACT-REDUX/frontend/vue_app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/usuario/Documentos/2nDaw/Servidor/DJANGO_REST__VUEx_REACT-REDUX/frontend/vue_app/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/usuario/Documentos/2nDaw/Servidor/DJANGO_REST__VUEx_REACT-REDUX/frontend/vue_app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL2hvbWUvdXN1YXJpby9Eb2N1bWVudG9zLzJuRGF3L1NlcnZpZG9yL0RKQU5HT19SRVNUX19WVUV4X1JFQUNULVJFRFVYL2Zyb250ZW5kL3Z1ZV9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCnZhciBfYWN0aW9ucywgX211dGF0aW9uczsKCmltcG9ydCBBcGlTZXJ2aWNlIGZyb20gIkAvY29tbW9uL2FwaS5zZXJ2aWNlIjsKaW1wb3J0IEp3dFNlcnZpY2UgZnJvbSAiQC9jb21tb24vand0LnNlcnZpY2UiOwppbXBvcnQgeyBMT0dJTiwgTE9HT1VULCBSRUdJU1RFUiwgQ0hFQ0tfQVVUSCB9IGZyb20gIi4vYWN0aW9ucy50eXBlIjsKaW1wb3J0IHsgU0VUX0FVVEgsIFBVUkdFX0FVVEgsIFNFVF9FUlJPUiB9IGZyb20gIi4vbXV0YXRpb25zLnR5cGUiOwp2YXIgc3RhdGUgPSB7CiAgZXJyb3JzOiBudWxsLAogIHVzZXI6IHt9LAogIGlzQXV0aGVudGljYXRlZDogISFKd3RTZXJ2aWNlLmdldFRva2VuKCkKfTsKdmFyIGdldHRlcnMgPSB7CiAgY3VycmVudFVzZXI6IGZ1bmN0aW9uIGN1cnJlbnRVc2VyKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUudXNlcjsKICB9LAogIGlzQXV0aGVudGljYXRlZDogZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuaXNBdXRoZW50aWNhdGVkOwogIH0KfTsKdmFyIGFjdGlvbnMgPSAoX2FjdGlvbnMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBMT0dJTiwgZnVuY3Rpb24gKGNvbnRleHQsIGNyZWRlbnRpYWxzKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICBBcGlTZXJ2aWNlLnBvc3QoInVzZXJzL2xvZ2luIiwgewogICAgICB1c2VyOiBjcmVkZW50aWFscwogICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKICAgICAgY29udGV4dC5jb21taXQoU0VUX0FVVEgsIGRhdGEudXNlcik7CiAgICAgIHJlc29sdmUoZGF0YSk7CiAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgdmFyIHJlc3BvbnNlID0gX3JlZjIucmVzcG9uc2U7CiAgICAgIGNvbnRleHQuY29tbWl0KFNFVF9FUlJPUiwgcmVzcG9uc2UuZGF0YS5lcnJvcnMpOwogICAgfSk7CiAgfSk7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIExPR09VVCwgZnVuY3Rpb24gKGNvbnRleHQpIHsKICBjb250ZXh0LmNvbW1pdChQVVJHRV9BVVRIKTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgUkVHSVNURVIsIGZ1bmN0aW9uIChjb250ZXh0LCBjcmVkZW50aWFscykgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICBBcGlTZXJ2aWNlLnBvc3QoInVzZXJzIiwgewogICAgICB1c2VyOiBjcmVkZW50aWFscwogICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjMpIHsKICAgICAgdmFyIGRhdGEgPSBfcmVmMy5kYXRhOwogICAgICBjb250ZXh0LmNvbW1pdChTRVRfQVVUSCwgZGF0YS51c2VyKTsKICAgICAgcmVzb2x2ZShkYXRhKTsKICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChfcmVmNCkgewogICAgICB2YXIgcmVzcG9uc2UgPSBfcmVmNC5yZXNwb25zZTsKICAgICAgY29udGV4dC5jb21taXQoU0VUX0VSUk9SLCByZXNwb25zZS5kYXRhLmVycm9ycyk7CiAgICAgIHJlamVjdChyZXNwb25zZSk7CiAgICB9KTsKICB9KTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgQ0hFQ0tfQVVUSCwgZnVuY3Rpb24gKGNvbnRleHQpIHsKICBpZiAoSnd0U2VydmljZS5nZXRUb2tlbigpKSB7CiAgICAvLyBBcGlTZXJ2aWNlLnNldEhlYWRlcigpOwogICAgQXBpU2VydmljZS5nZXQoInVzZXIiKS50aGVuKGZ1bmN0aW9uIChfcmVmNSkgewogICAgICB2YXIgZGF0YSA9IF9yZWY1LmRhdGE7CiAgICAgIGNvbnRleHQuY29tbWl0KFNFVF9BVVRILCBkYXRhLnVzZXIpOwogICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKF9yZWY2KSB7CiAgICAgIHZhciByZXNwb25zZSA9IF9yZWY2LnJlc3BvbnNlOwogICAgICBjb250ZXh0LmNvbW1pdChTRVRfRVJST1IsIHJlc3BvbnNlLmRhdGEuZXJyb3JzKTsKICAgIH0pOwogIH0gZWxzZSB7CiAgICBjb250ZXh0LmNvbW1pdChQVVJHRV9BVVRIKTsKICB9Cn0pLCBfYWN0aW9ucyk7CnZhciBtdXRhdGlvbnMgPSAoX211dGF0aW9ucyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgU0VUX0VSUk9SLCBmdW5jdGlvbiAoc3RhdGUsIGVycm9yKSB7CiAgc3RhdGUuZXJyb3JzID0gZXJyb3I7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgU0VUX0FVVEgsIGZ1bmN0aW9uIChzdGF0ZSwgdXNlcikgewogIHN0YXRlLmlzQXV0aGVudGljYXRlZCA9IHRydWU7CiAgc3RhdGUudXNlciA9IHVzZXI7CiAgc3RhdGUuZXJyb3JzID0ge307CiAgSnd0U2VydmljZS5zYXZlVG9rZW4oc3RhdGUudXNlci50b2tlbik7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgUFVSR0VfQVVUSCwgZnVuY3Rpb24gKHN0YXRlKSB7CiAgc3RhdGUuaXNBdXRoZW50aWNhdGVkID0gZmFsc2U7CiAgc3RhdGUudXNlciA9IHt9OwogIHN0YXRlLmVycm9ycyA9IHt9OwogIEp3dFNlcnZpY2UuZGVzdHJveVRva2VuKCk7Cn0pLCBfbXV0YXRpb25zKTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGdldHRlcnM6IGdldHRlcnMKfTs="},{"version":3,"sources":["/home/usuario/Documentos/2nDaw/Servidor/DJANGO_REST__VUEx_REACT-REDUX/frontend/vue_app/node_modules/eslint-loader/index.js??ref--13-0!/home/usuario/Documentos/2nDaw/Servidor/DJANGO_REST__VUEx_REACT-REDUX/frontend/vue_app/src/store/auth.module.ts"],"names":[],"mappings":"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","sourcesContent":["import ApiService from \"@/common/api.service\";\nimport JwtService from \"@/common/jwt.service\";\nimport {\n  LOGIN,\n  LOGOUT,\n  REGISTER,\n  CHECK_AUTH\n} from \"./actions.type\";\nimport { SET_AUTH, PURGE_AUTH, SET_ERROR } from \"./mutations.type\";\n\n\nconst state = {\n  errors: null,\n  user: {},\n  isAuthenticated: !!JwtService.getToken()\n};\n\nconst getters = {\n  currentUser(state: any) {\n    return state.user;\n  },\n  isAuthenticated(state: any) {\n    return state.isAuthenticated;\n  }\n};\n\nconst actions = {\n  // Login\n  [LOGIN](context: any, credentials: any) {\n    return new Promise(resolve => {\n      ApiService.post(\"users/login\", { user: credentials })\n        .then(({ data }) => {\n          context.commit(SET_AUTH, data.user);\n          resolve(data);\n        })\n        .catch(({ response }) => {\n          context.commit(SET_ERROR, response.data.errors);\n        });\n    });\n  },\n\n  // Logout\n  [LOGOUT](context: any) {\n    context.commit(PURGE_AUTH);\n  },\n\n  // Register\n  [REGISTER](context: any, credentials: any) {\n    return new Promise((resolve, reject) => {\n      ApiService.post(\"users\", { user: credentials })\n        .then(({ data }) => {\n          context.commit(SET_AUTH, data.user);\n          resolve(data);\n        })\n        .catch(({ response }) => {\n          context.commit(SET_ERROR, response.data.errors);\n          reject(response);\n        });\n    });\n  },\n\n  // Check auth\n  [CHECK_AUTH](context: any) {\n    if (JwtService.getToken()) {\n      // ApiService.setHeader();\n      ApiService.get(\"user\")\n        .then(({ data }: any) => {\n          context.commit(SET_AUTH, data.user);\n        })\n        .catch(({ response }) => {\n          context.commit(SET_ERROR, response.data.errors);\n        });\n    } else {\n      context.commit(PURGE_AUTH);\n    }\n  }\n};\n\nconst mutations = {\n  // Set error\n  [SET_ERROR](state: any, error: any) {\n    state.errors = error;\n  },\n\n  // Set auth\n  [SET_AUTH](state: any, user: any) {\n    state.isAuthenticated = true;\n    state.user = user;\n    state.errors = {};\n    JwtService.saveToken(state.user.token);\n  },\n\n  // Purge auth\n  [PURGE_AUTH](state: any) {\n    state.isAuthenticated = false;\n    state.user = {};\n    state.errors = {};\n    JwtService.destroyToken();\n  }\n};\n\nexport default {\n  state,\n  actions,\n  mutations,\n  getters\n};\n"],"sourceRoot":""}]}